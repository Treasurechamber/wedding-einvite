<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sarah & Michael | Wedding Invitation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        /* Main Styles */
        :root {
            --primary: #d8b4a0;
            --secondary: #5d5c61;
            --light: #f7f7f7;
            --dark: #333333;
            --accent: #b1a296;
            --success: #7fb77e;
            --error: #f7a4a4;
            --white: #ffffff;
            --black: #000000;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 70px;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 600;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            background-color: var(--primary);
            color: var(--white);
            border: none;
            border-radius: 4px;
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            background-color: #c9a28f;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .btn.secondary {
            background-color: var(--secondary);
        }

        .btn.secondary:hover {
            background-color: #4a4950;
        }

        .btn.outline {
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn.outline:hover {
            background-color: var(--primary);
            color: var(--white);
        }

        /* Navigation */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: var(--transition);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            font-family: 'Cormorant Garamond', serif;
            font-size: 28px;
            color: var(--primary);
            font-weight: 700;
        }

        .logo span {
            font-size: 24px;
            color: var(--secondary);
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-link {
            font-size: 14px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: var(--transition);
        }

        .nav-link:hover {
            color: var(--primary);
        }

        .mobile-nav-toggle {
            display: none;
            background: transparent;
            border: none;
            font-size: 24px;
            color: var(--dark);
            cursor: pointer;
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('/api/placeholder/1200/800') center/cover no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--white);
            position: relative;
        }

        .hero-content {
            max-width: 800px;
            padding: 40px;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            border-radius: 10px;
            animation: fadeIn 1.5s ease-in-out;
        }

        .hero h1 {
            font-size: 4rem;
            margin-bottom: 10px;
            line-height: 1.2;
        }

        .hero h2 {
            font-size: 1.8rem;
            font-weight: 400;
            margin-bottom: 30px;
        }

        .date {
            font-size: 1.5rem;
            margin-bottom: 20px;
            letter-spacing: 3px;
        }

        .location {
            font-size: 1.2rem;
            margin-bottom: 40px;
        }

        .scroll-down {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            color: white;
            cursor: pointer;
            animation: bounce 2s infinite;
        }

        /* Countdown Section */
        .countdown-section {
            padding: 100px 0;
            text-align: center;
            background-color: var(--white);
        }

        .section-heading {
            margin-bottom: 50px;
            position: relative;
            display: inline-block;
        }

        .section-heading h2 {
            font-size: 3rem;
            color: var(--secondary);
            position: relative;
            margin-bottom: 15px;
        }

        .section-heading h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: var(--primary);
        }

        .section-heading p {
            font-size: 1.1rem;
            color: var(--accent);
            max-width: 600px;
            margin: 0 auto;
        }

        .countdown-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .countdown-item {
            width: 150px;
            padding: 30px 20px;
            background-color: var(--primary);
            border-radius: 10px;
            color: white;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .countdown-item::before {
            content: '';
            position: absolute;
            top: -100%;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 100%);
            transition: var(--transition);
        }

        .countdown-item:hover::before {
            top: 0;
        }

        .countdown-item span {
            display: block;
        }

        .countdown-number {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            font-family: 'Cormorant Garamond', serif;
        }

        .countdown-label {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Our Story Section */
        .our-story {
            padding: 100px 0;
            background-color: var(--light);
        }

        .timeline-container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
        }

        .timeline {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 3px;
            background-color: var(--primary);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -1.5px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
            margin-bottom: 80px;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .timeline-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-item:nth-child(odd) {
            left: 0;
        }

        .timeline-item:nth-child(even) {
            left: 50%;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            background-color: var(--white);
            border: 4px solid var(--primary);
            border-radius: 50%;
            top: 15px;
            right: -13px;
            z-index: 1;
            transition: var(--transition);
        }

        .timeline-item:nth-child(even)::after {
            left: -13px;
        }

        .timeline-item:hover::after {
            background-color: var(--primary);
        }

        .timeline-content {
            padding: 30px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            cursor: pointer;
        }

        .timeline-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .timeline-content h3 {
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 1.8rem;
        }

        .timeline-date {
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .timeline-content p {
            margin-bottom: 15px;
        }

        .timeline-content .view-photos {
            color: var(--primary);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: var(--transition);
        }

        .timeline-content .view-photos:hover {
            color: var(--secondary);
        }

        /* Gallery Section */
        .gallery-section {
            padding: 100px 0;
            background-color: var(--white);
            text-align: center;
        }

        .gallery-filters {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .gallery-filter {
            padding: 8px 20px;
            background-color: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
            border-radius: 25px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .gallery-filter.active,
        .gallery-filter:hover {
            background-color: var(--primary);
            color: var(--white);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
        }

        .gallery-item {
            position: relative;
            height: 300px;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .gallery-item:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-item-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: rgba(0, 0, 0, 0.7);
            color: var(--white);
            padding: 15px;
            opacity: 0;
            transition: var(--transition);
            transform: translateY(20px);
        }

        .gallery-item:hover .gallery-item-overlay {
            opacity: 1;
            transform: translateY(0);
        }

        .gallery-item-overlay h3 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .gallery-item-overlay p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .gallery-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-modal.active {
            display: flex;
            opacity: 1;
        }

        .gallery-modal-content {
            width: 80%;
            max-width: 1000px;
            margin: auto;
            position: relative;
        }

        .gallery-modal-image {
            width: 100%;
            max-height: 80vh;
            object-fit: contain;
        }

        .gallery-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: var(--white);
            font-size: 30px;
            cursor: pointer;
            z-index: 2010;
        }

        .gallery-modal-controls {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .gallery-modal-prev,
        .gallery-modal-next {
            background-color: rgba(0, 0, 0, 0.5);
            color: var(--white);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .gallery-modal-prev:hover,
        .gallery-modal-next:hover {
            background-color: var(--primary);
        }

        .gallery-modal-counter {
            color: var(--white);
            font-size: 16px;
            margin-top: 10px;
            text-align: center;
        }

        .gallery-load-more {
            margin-top: 30px;
        }

        /* Story Modal */
        .story-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .story-modal.active {
            display: flex;
            opacity: 1;
        }

        .story-modal-content {
            width: 90%;
            max-width: 1000px;
            margin: auto;
            background-color: var(--white);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
            max-height: 90vh;
        }

        .story-modal-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .story-modal-header h2 {
            font-size: 1.8rem;
            color: var(--primary);
        }

        .story-modal-close {
            font-size: 24px;
            cursor: pointer;
            color: var(--dark);
            transition: var(--transition);
        }

        .story-modal-close:hover {
            color: var(--primary);
        }

        .story-modal-body {
            display: flex;
            overflow-y: auto;
            height: 100%;
        }

        .story-slideshow {
            width: 60%;
            height: 500px;
            position: relative;
            overflow: hidden;
        }

        .story-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .story-slide.active {
            opacity: 1;
        }

        .story-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .story-content {
            width: 40%;
            padding: 30px;
            overflow-y: auto;
        }

        .story-content h3 {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .story-date {
            font-size: 1rem;
            color: var(--secondary);
            margin-bottom: 20px;
            display: block;
        }

        .story-text {
            margin-bottom: 30px;
            line-height: 1.7;
        }

        .story-controls {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        .story-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            cursor: pointer;
        }

        .story-dot.active {
            background-color: var(--white);
        }

        .story-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background-color: rgba(0, 0, 0, 0.5);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            z-index: 5;
        }

        .story-nav:hover {
            background-color: var(--primary);
        }

        .story-prev {
            left: 20px;
        }

        .story-next {
            right: 20px;
        }

        /* RSVP Section */
        .rsvp-section {
            padding: 100px 0;
            background-color: var(--light);
            text-align: center;
        }

        .rsvp-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            margin-top: 50px;
        }

        .rsvp-details {
            flex: 1;
            min-width: 300px;
            background-color: var(--white);
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            text-align: left;
        }

        .rsvp-details h3 {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .venue-details {
            margin-bottom: 30px;
        }

        .venue-details h4 {
            font-size: 1.3rem;
            color: var(--secondary);
            margin-bottom: 10px;
        }

        .venue-address {
            margin-bottom: 15px;
        }

        .venue-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .timeline-details h4 {
            font-size: 1.3rem;
            color: var(--secondary);
            margin-bottom: 10px;
            margin-top: 30px;
        }

        .timeline-event {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .timeline-event-time {
            min-width: 80px;
            text-align: right;
            font-weight: 600;
            color: var(--primary);
        }

        .timeline-event-info h5 {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .timeline-event-info p {
            font-size: 0.9rem;
            color: var(--secondary);
        }

        .rsvp-form-container {
            flex: 1;
            min-width: 300px;
            background-color: var(--white);
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            text-align: left;
        }

        .rsvp-form-container h3 {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .rsvp-form {
            margin-top: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--secondary);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: 'Montserrat', sans-serif;
            font-size: 14px;
            transition: var(--transition);
        }

        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(216, 180, 160, 0.3);
        }

        .radio-group {
            display: flex;
            gap: 30px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .radio-option input {
            cursor: pointer;
        }

        .guest-fields {
            margin-top: 20px;
            display: none;
        }

        .guest-fields.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .add-guest-btn {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
            font-size: 14px;
            color: var(--primary);
            border: none;
            background: transparent;
            cursor: pointer;
            transition: var(--transition);
        }

        .add-guest-btn:hover {
            color: var(--secondary);
        }

        .guest-list {
            margin-top: 20px;
        }

        .guest-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            background-color: #f9f9f9;
            padding: 10px;
            border-radius: 5px;
        }

        .guest-item p {
            flex: 1;
            margin: 0;
        }

        .remove-guest {
            color: var(--error);
            cursor: pointer;
            transition: var(--transition);
        }

        .remove-guest:hover {
            color: #f47c7c;
        }

        .submit-btn {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .loading {
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--white);
            animation: spin 1s infinite linear;
            display: none;
        }

        .response-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            display: none;
        }

        .response-message.success {
            background-color: rgba(127, 183, 126, 0.2);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .response-message.error {
            background-color: rgba(247, 164, 164, 0.2);
            color: var(--error);
            border: 1px solid var(--error);
        }

        /* Stats Section */
        .stats-section {
            padding: 100px 0;
            background-color: var(--white);
            text-align: center;
        }

        .stats-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 50px;
        }

        .stat-card {
            width: 200px;
            background-color: var(--light);
            border-radius: 10px;
            padding: 30px 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .stat-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 10px;
            font-family: 'Cormorant Garamond', serif;
        }

        .stat-label {
            font-size: 1rem;
            color: var(--accent);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }

        /* Footer */
        footer {
            padding: 60px 0 30px;
            background-color: var(--secondary);
            color: var(--white);
        }

        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 40px;
            margin-bottom: 50px;
        }

        .footer-logo {
            flex: 1;
            min-width: 250px;
        }

        .footer-logo h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .footer-logo p {
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .social-icons {
            display: flex;
            gap: 15px;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--white);
            transition: var(--transition);
        }

        .social-icon:hover {
            background-color: var(--primary);
            transform: translateY(-3px);
        }

        .footer-links {
            flex: 1;
            min-width: 150px;
        }

        .footer-links h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--white);
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 10px;
        }
        .footer-links a {
            color: var(--white);
            opacity: 0.8;
            transition: var(--transition);
        }

        .footer-links a:hover {
            opacity: 1;
            color: var(--primary);
        }

        .footer-contact {
            flex: 1;
            min-width: 250px;
        }

        .footer-contact h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--white);
        }

        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin-bottom: 15px;
        }

        .contact-icon {
            font-size: 1.2rem;
            color: var(--primary);
        }

        .contact-text {
            opacity: 0.8;
        }

        .footer-bottom {
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--white);
            z-index: 3000;
            overflow-y: auto;
        }

        .admin-panel.active {
            display: block;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: var(--secondary);
            color: var(--white);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .admin-title {
            font-size: 1.5rem;
        }

        .admin-title span {
            color: var(--primary);
        }

        .admin-controls {
            display: flex;
            gap: 15px;
        }

        .admin-btn {
            padding: 8px 15px;
            border-radius: 5px;
            background-color: var(--primary);
            color: var(--white);
            font-size: 14px;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .admin-btn:hover {
            background-color: #c9a28f;
        }

        .admin-btn.logout {
            background-color: var(--error);
        }

        .admin-btn.logout:hover {
            background-color: #f47c7c;
        }

        .admin-container {
            padding: 30px;
        }

        .admin-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .admin-tab {
            padding: 10px 20px;
            border-radius: 5px 5px 0 0;
            background-color: #f5f5f5;
            color: var(--secondary);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid #eee;
            border-bottom: none;
        }

        .admin-tab.active {
            background-color: var(--primary);
            color: var(--white);
        }

        .admin-tab:hover:not(.active) {
            background-color: #eee;
        }

        .admin-content {
            display: none;
        }

        .admin-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .admin-section {
            margin-bottom: 40px;
        }

        .admin-section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .admin-section-title {
            font-size: 1.5rem;
            color: var(--secondary);
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .admin-stat-card {
            background-color: var(--light);
            border-radius: 10px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .admin-stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin: 10px 0;
        }

        .admin-stat-label {
            font-size: 0.9rem;
            color: var(--secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .admin-table-container {
            overflow-x: auto;
            background-color: var(--white);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
        }

        .admin-table th,
        .admin-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .admin-table th {
            background-color: var(--primary);
            color: var(--white);
            font-weight: 500;
            position: sticky;
            top: 0;
        }

        .admin-table th:first-child {
            border-top-left-radius: 10px;
        }

        .admin-table th:last-child {
            border-top-right-radius: 10px;
        }

        .admin-table tr:last-child td {
            border-bottom: none;
        }

        .admin-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .admin-table tr:hover {
            background-color: #f5f5f5;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-attending {
            background-color: rgba(127, 183, 126, 0.2);
            color: var(--success);
        }

        .status-declined {
            background-color: rgba(247, 164, 164, 0.2);
            color: var(--error);
        }

        .admin-table-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
        }

        .view-btn {
            background-color: rgba(93, 92, 97, 0.1);
            color: var(--secondary);
        }

        .view-btn:hover {
            background-color: var(--secondary);
            color: var(--white);
        }

        .delete-btn {
            background-color: rgba(247, 164, 164, 0.1);
            color: var(--error);
        }

        .delete-btn:hover {
            background-color: var(--error);
            color: var(--white);
        }

        .admin-pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .page-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 5px;
            background-color: var(--white);
            border: 1px solid #eee;
            cursor: pointer;
            transition: var(--transition);
        }

        .page-btn.active {
            background-color: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .page-btn:hover:not(.active) {
            background-color: #f5f5f5;
        }

        .page-btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .chart-container {
            height: 300px;
            margin: 30px 0;
            background-color: var(--white);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .admin-login-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            z-index: 5000;
        }

        .admin-login-modal.active {
            display: flex;
        }

        .admin-login-container {
            background-color: var(--white);
            border-radius: 10px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .admin-login-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .admin-login-header h2 {
            font-size: 2rem;
            color: var(--primary);
        }

        .admin-login-form {
            margin-top: 20px;
        }

        .admin-login-btn {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
        }

        /* Text alignment helpers */
        .text-center {
            text-align: center;
        }

        .text-left {
            text-align: left;
        }

        .text-right {
            text-align: right;
        }

        /* View all link */
        .view-all-link {
            color: var(--primary);
            font-weight: 500;
            transition: var(--transition);
        }

        .view-all-link:hover {
            color: var(--secondary);
            text-decoration: underline;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0) translateX(-50%);
            }
            40% {
                transform: translateY(-20px) translateX(-50%);
            }
            60% {
                transform: translateY(-10px) translateX(-50%);
            }
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Responsive styles */
        @media (max-width: 1024px) {
            .hero h1 {
                font-size: 3.5rem;
            }
            
            .countdown-item {
                width: 130px;
            }
            
            .story-modal-body {
                flex-direction: column;
            }
            
            .story-slideshow,
            .story-content {
                width: 100%;
            }
            
            .story-content {
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .mobile-nav-toggle {
                display: block;
            }
            
            .nav-links {
                position: fixed;
                top: 0;
                right: -300px;
                width: 250px;
                height: 100vh;
                background-color: var(--white);
                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
                flex-direction: column;
                justify-content: center;
                padding: 50px 30px;
                transition: var(--transition);
                z-index: 1100;
            }
            
            .nav-links.active {
                right: 0;
            }
            
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .hero h2 {
                font-size: 1.4rem;
            }
            
            .countdown-item {
                width: 110px;
                padding: 20px 10px;
            }
            
            .countdown-number {
                font-size: 2.5rem;
            }
            
            .timeline::after {
                left: 31px;
            }
            
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            
            .timeline-item:nth-child(even) {
                left: 0;
            }
            
            .timeline-item::after {
                left: 20px;
            }
            
            .gallery-modal-content {
                width: 95%;
            }
        }

        @media (max-width: 576px) {
            .hero-content {
                padding: 30px 20px;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero h2 {
                font-size: 1.2rem;
            }
            
            .date {
                font-size: 1.2rem;
            }
            
            .location {
                font-size: 1rem;
            }
            
            .section-heading h2 {
                font-size: 2.2rem;
            }
            
            .countdown-container {
                gap: 10px;
            }
            
            .countdown-item {
                width: 75px;
                padding: 15px 5px;
            }
            
            .countdown-number {
                font-size: 1.8rem;
            }
            
            .countdown-label {
                font-size: 0.8rem;
            }
            
            .gallery-grid {
                grid-template-columns: 1fr;
            }
            
            .radio-group {
                flex-direction: column;
                gap: 10px;
            }
            
            .admin-stats {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="admin-login-modal">
        <div class="admin-login-container">
            <div class="admin-login-header">
                <h2>Admin Login</h2>
                <p>Enter your credentials to access the admin panel</p>
            </div>
            <div class="admin-login-form">
                <div class="form-group">
                    <label for="adminUsername">Username</label>
                    <input type="text" id="adminUsername" class="form-control" placeholder="Enter username">
                </div>
                <div class="form-group">
                    <label for="adminPassword">Password</label>
                    <input type="password" id="adminPassword" class="form-control" placeholder="Enter password">
                </div>
                <button id="adminLoginBtn" class="btn admin-login-btn">
                    Login <div class="loading" id="adminLoginLoading"></div>
                </button>
                <div class="response-message error" id="adminLoginError"></div>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel">
        <div class="admin-header">
            <div class="admin-title">Wedding <span>Admin Panel</span></div>
            <div class="admin-controls">
                <button id="adminExportBtn" class="admin-btn">
                    <i class="fas fa-file-export"></i> Export Data
                </button>
                <button id="adminLogoutBtn" class="admin-btn logout">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
        <div class="admin-container">
            <div class="admin-tabs">
                <div class="admin-tab active" data-tab="dashboard">Dashboard</div>
                <div class="admin-tab" data-tab="guests">Guest List</div>
                <div class="admin-tab" data-tab="messages">Messages</div>
            </div>
            
            <!-- Dashboard Tab -->
            <div id="dashboardTab" class="admin-content active">
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h3 class="admin-section-title">Overview</h3>
                        <button id="refreshStats" class="admin-btn">
                            <i class="fas fa-sync-alt"></i> Refresh
                        </button>
                    </div>
                    <div class="admin-stats">
                        <div class="admin-stat-card">
                            <i class="fas fa-users stat-icon"></i>
                            <div id="totalInvited" class="admin-stat-number">0</div>
                            <div class="admin-stat-label">Total Invited</div>
                        </div>
                        <div class="admin-stat-card">
                            <i class="fas fa-check-circle stat-icon"></i>
                            <div id="totalConfirmed" class="admin-stat-number">0</div>
                            <div class="admin-stat-label">Confirmed</div>
                        </div>
                        <div class="admin-stat-card">
                            <i class="fas fa-times-circle stat-icon"></i>
                            <div id="totalDeclined" class="admin-stat-number">0</div>
                            <div class="admin-stat-label">Declined</div>
                        </div>
                        <div class="admin-stat-card">
                            <i class="fas fa-question-circle stat-icon"></i>
                            <div id="totalPending" class="admin-stat-number">0</div>
                            <div class="admin-stat-label">Pending</div>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="rsvpChart"></canvas>
                    </div>
                </div>
                
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h3 class="admin-section-title">Recent RSVPs</h3>
                        <a href="#" class="view-all-link" data-tab="guests">View All</a>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Response</th>
                                    <th>Guests</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody id="recentRsvpTable">
                                <!-- Recent RSVPs will be loaded here -->
                                <tr>
                                    <td colspan="5" class="text-center">Loading recent RSVPs...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <!-- Guest List Tab -->
            <div id="guestsTab" class="admin-content">
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h3 class="admin-section-title">All Guests</h3>
                        <div class="admin-filters">
                            <select id="statusFilter" class="form-control">
                                <option value="all">All Responses</option>
                                <option value="attending">Attending</option>
                                <option value="declined">Declined</option>
                                <option value="pending">Pending</option>
                            </select>
                        </div>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Response</th>
                                    <th>Guests</th>
                                    <th>Message</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="guestListTable">
                                <!-- Guest list will be loaded here -->
                                <tr>
                                    <td colspan="8" class="text-center">Loading guest list...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div id="guestsPagination" class="admin-pagination">
                        <!-- Pagination will be generated here -->
                    </div>
                </div>
            </div>
            
            <!-- Messages Tab -->
            <div id="messagesTab" class="admin-content">
                <div class="admin-section">
                    <div class="admin-section-header">
                        <h3 class="admin-section-title">Guest Messages</h3>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Message</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody id="messagesTable">
                                <!-- Messages will be loaded here -->
                                <tr>
                                    <td colspan="4" class="text-center">Loading messages...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Header / Navigation -->
    <header id="header">
        <div class="container">
            <nav>
                <a href="#" class="logo">Sarah <span>&</span> Michael</a>
                <div id="navLinks" class="nav-links">
                    <a href="#home" class="nav-link">Home</a>
                    <a href="#countdown" class="nav-link">Countdown</a>
                    <a href="#story" class="nav-link">Our Story</a>
                    <a href="#gallery" class="nav-link">Gallery</a>
                    <a href="#rsvp" class="nav-link">RSVP</a>
                    <a href="#details" class="nav-link">Details</a>
                </div>
                <button id="mobileNavToggle" class="mobile-nav-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Sarah & Michael</h1>
            <h2>ARE GETTING MARRIED</h2>
            <div class="date">AUGUST 15, 2025</div>
            <div class="location">Sunset Gardens • New York City</div>
            <a href="#rsvp" class="btn">RSVP Now</a>
        </div>
        <a href="#countdown" class="scroll-down">
            <i class="fas fa-chevron-down"></i>
        </a>
    </section>

    <!-- Countdown Section -->
    <section id="countdown" class="countdown-section">
        <div class="container">
            <div class="section-heading">
                <h2>Counting Down to Our Big Day</h2>
                <p>We can't wait to celebrate our special day with you. Until then, here's a countdown to our wedding.</p>
            </div>
            <div class="countdown-container" id="countdownContainer">
                <div class="countdown-item">
                    <span id="days" class="countdown-number">00</span>
                    <span class="countdown-label">Days</span>
                </div>
                <div class="countdown-item">
                    <span id="hours" class="countdown-number">00</span>
                    <span class="countdown-label">Hours</span>
                </div>
                <div class="countdown-item">
                    <span id="minutes" class="countdown-number">00</span>
                    <span class="countdown-label">Minutes</span>
                </div>
                <div class="countdown-item">
                    <span id="seconds" class="countdown-number">00</span>
                    <span class="countdown-label">Seconds</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Our Story Section -->
    <section id="story" class="our-story">
        <div class="container">
            <div class="section-heading">
                <h2>Our Love Story</h2>
                <p>How a chance meeting turned into forever. Click on any moment to see photos and read more about our journey.</p>
            </div>
            <div class="timeline-container">
                <div class="timeline">
                    <div class="timeline-item" data-story="first-meeting">
                        <div class="timeline-content">
                            <h3>The First Meeting</h3>
                            <div class="timeline-date">June 12, 2020</div>
                            <p>We met during a chance encounter at a coffee shop downtown. Sarah was reading a book that Michael had just finished...</p>
                            <div class="view-photos">
                                View Photos <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-item" data-story="first-date">
                        <div class="timeline-content">
                            <h3>First Date</h3>
                            <div class="timeline-date">June 19, 2020</div>
                            <p>Our first date was at the botanical gardens. We spent hours talking and getting to know each other...</p>
                            <div class="view-photos">
                                View Photos <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-item" data-story="moving-in">
                        <div class="timeline-content">
                            <h3>Moving In Together</h3>
                            <div class="timeline-date">October 3, 2022</div>
                            <p>After two wonderful years together, we decided to take the next step and move in together...</p>
                            <div class="view-photos">
                                View Photos <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-item" data-story="proposal">
                        <div class="timeline-content">
                            <h3>The Proposal</h3>
                            <div class="timeline-date">December 24, 2023</div>
                            <p>Michael proposed during our winter vacation in the mountains. It was snowing and absolutely magical...</p>
                            <div class="view-photos">
                                View Photos <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Story Modals -->
    <div id="storyModal" class="story-modal">
        <div class="story-modal-content">
            <div class="story-modal-header">
                <h2 id="storyTitle">Story Title</h2>
                <div class="story-modal-close" id="closeStoryModal">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <div class="story-modal-body">
                <div class="story-slideshow" id="storySlideshow">
                    <!-- Story slides will be dynamically generated -->
                </div>
                <div class="story-content">
                    <h3 id="storySubtitle">Story Subtitle</h3>
                    <span id="storyDate" class="story-date">Date</span>
                    <div id="storyText" class="story-text">
                        Story text content will go here.
                    </div>
                </div>
            </div>
            <div class="story-controls" id="storyControls">
                <!-- Dots will be dynamically generated -->
            </div>
            <div class="story-nav story-prev" id="storyPrev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="story-nav story-next" id="storyNext">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- Gallery Section -->
    <section id="gallery" class="gallery-section">
        <div class="container">
            <div class="section-heading">
                <h2>Photo Gallery</h2>
                <p>Browse through some of our favorite moments together.</p>
            </div>
            <div class="gallery-filters">
                <button class="gallery-filter active" data-filter="all">All</button>
                <button class="gallery-filter" data-filter="us">Us</button>
                <button class="gallery-filter" data-filter="dates">Dates</button>
                <button class="gallery-filter" data-filter="travel">Travel</button>
                <button class="gallery-filter" data-filter="engagement">Engagement</button>
            </div>
            <div class="gallery-grid" id="galleryGrid">
                <!-- Gallery items will be dynamically generated -->
            </div>
            <button id="loadMorePhotos" class="btn gallery-load-more">Load More</button>
        </div>
    </section>
    
    <!-- Gallery Modal -->
    <div id="galleryModal" class="gallery-modal">
        <div class="gallery-modal-close" id="closeGalleryModal">
            <i class="fas fa-times"></i>
        </div>
        <div class="gallery-modal-content">
            <img id="galleryModalImage" class="gallery-modal-image" src="" alt="Gallery image">
            <div class="gallery-modal-counter" id="galleryCounter">1 / 10</div>
        </div>
        <div class="gallery-modal-controls">
            <div class="gallery-modal-prev" id="galleryPrev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="gallery-modal-next" id="galleryNext">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- RSVP Section -->
    <section id="rsvp" class="rsvp-section">
        <div class="container">
            <div class="section-heading">
                <h2>RSVP</h2>
                <p>We would be honored to have you join us on our special day. Please let us know if you can attend by July 15, 2025.</p>
            </div>
            <div class="rsvp-content">
                <div class="rsvp-details">
                    <h3>Wedding Details</h3>
                    <div class="venue-details">
                        <h4>Ceremony & Reception</h4>
                        <p class="venue-address">
                            Sunset Gardens<br>
                            123 Garden Avenue<br>
                            New York, NY 10001
                        </p>
                        <p>The ceremony will be held outdoors, weather permitting, followed by a reception in the Grand Ballroom.</p>
                        <div class="venue-actions">
                            <a href="https://maps.google.com" target="_blank" class="btn outline">
                                <i class="fas fa-map-marker-alt"></i> View Map
                            </a>
                        </div>
                    </div>
                    <div class="timeline-details">
                        <h4>Wedding Day Timeline</h4>
                        <div class="timeline-event">
                            <div class="timeline-event-time">3:30 PM</div>
                            <div class="timeline-event-info">
                                <h5>Guests Arrive</h5>
                                <p>Welcome drinks served</p>
                            </div>
                        </div>
                        <div class="timeline-event">
                            <div class="timeline-event-time">4:00 PM</div>
                            <div class="timeline-event-info">
                                <h5>Ceremony</h5>
                                <p>Garden Terrace</p>
                            </div>
                        </div>
                        <div class="timeline-event">
                            <div class="timeline-event-time">5:00 PM</div>
                            <div class="timeline-event-info">
                                <h5>Cocktail Hour</h5>
                                <p>Sunset Patio</p>
                            </div>
                        </div>
                        <div class="timeline-event">
                            <div class="timeline-event-time">6:00 PM</div>
                            <div class="timeline-event-info">
                                <h5>Dinner & Reception</h5>
                                <p>Grand Ballroom</p>
                            </div>
                        </div>
                        <div class="timeline-event">
                            <div class="timeline-event-time">11:00 PM</div>
                            <div class="timeline-event-info">
                                <h5>Farewell</h5>
                                <p>End of celebration</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="rsvp-form-container">
                    <h3>Please RSVP by July 15, 2025</h3>
                    <p>We're excited to celebrate with you! Please fill out the form below to let us know if you can make it.</p>
                    <form id="rsvpForm" class="rsvp-form">
                        <div class="form-group">
                            <label for="name">Full Name*</label>
                            <input type="text" id="name" class="form-control" placeholder="Your Name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email*</label>
                            <input type="email" id="email" class="form-control" placeholder="Your Email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" class="form-control" placeholder="Your Phone Number">
                        </div>
                        <div class="form-group">
                            <label>Will you be attending?*</label>
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="attending" value="yes" checked> Yes, I'll be there!
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="attending" value="no"> Sorry, I can't make it
                                </label>
                            </div>
                        </div>
                        <div id="guestFields" class="guest-fields active">
                            <div class="form-group">
                                <label for="numGuests">Number of Guests (including yourself)*</label>
                                <select id="numGuests" class="form-control">
                                    <option value="1">1 (Just me)</option>
                                    <option value="2">2 (Me + 1 guest)</option>
                                    <option value="3">3 (Me + 2 guests)</option>
                                    <option value="4">4 (Me + 3 guests)</option>
                                </select>
                            </div>
                            <div id="additionalGuestsContainer">
                                <!-- Additional guest fields will be added here -->
                            </div>
                            <button type="button" id="addGuestBtn" class="add-guest-btn">
                                <i class="fas fa-plus-circle"></i> Add Guest Information
                            </button>
                            <div id="guestList" class="guest-list">
                                <!-- Added guests will appear here -->
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="dietaryRestrictions">Dietary Restrictions</label>
                            <textarea id="dietaryRestrictions" class="form-control" rows="2" placeholder="Please share any dietary restrictions or allergies"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="message">Message (Optional)</label>
                            <textarea id="message" class="form-control" rows="3" placeholder="Leave a message for the couple"></textarea>
                        </div>
                        <button type="submit" id="submitRsvp" class="btn submit-btn">
                            Submit RSVP <div id="rsvpLoading" class="loading"></div>
                        </button>
                        <div id="rsvpSuccess" class="response-message success">
                            Thank you for your response! We've received your RSVP.
                        </div>
                        <div id="rsvpError" class="response-message error">
                            There was an error submitting your RSVP. Please try again.
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section id="stats" class="stats-section">
        <div class="container">
            <div class="section-heading">
                <h2>Guest Statistics</h2>
                <p>Here's a live update of our wedding guest list.</p>
            </div>
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-envelope-open-text"></i>
                    </div>
                    <div id="invitedStat" class="stat-number">120</div>
                    <div class="stat-label">Guests Invited</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div id="attendingStat" class="stat-number">0</div>
                    <div class="stat-label">Attending</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-times-circle"></i>
                    </div>
                    <div id="declinedStat" class="stat-number">0</div>
                    <div class="stat-label">Can't Attend</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div id="awaitingStat" class="stat-number">0</div>
                    <div class="stat-label">Awaiting Reply</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>Sarah & Michael</h2>
                    <p>Thank you for being part of our special day. We can't wait to celebrate with you!</p>
                    <div class="social-icons">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#story">Our Story</a></li>
                        <li><a href="#gallery">Gallery</a></li>
                        <li><a href="#rsvp">RSVP</a></li>
                        <li><a href="#" id="adminLink">Admin</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contact Us</h3>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-text">
                            sarahandmichael@wedding.com
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-text">
                            +1 (555) 123-4567
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-text">
                            Sunset Gardens<br>
                            123 Garden Avenue<br>
                            New York, NY 10001
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Sarah & Michael Wedding. All Rights Reserved.</p>
            </div>
        </div>
    </footer>
    <!-- Supabase JS -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.0.0/dist/umd/supabase.min.js"></script>
    
    <!-- Chart.js for admin dashboard -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Main JavaScript -->
    <script>
        // Initialize Supabase Client
        const supabaseUrl = 'YOUR_SUPABASE_URL'; // Replace with your Supabase URL
        const supabaseKey = 'YOUR_SUPABASE_KEY'; // Replace with your Supabase anon key
        const supabase = supabase.createClient(supabaseUrl, supabaseKey);

        // Global Variables
        const weddingDate = new Date('2025-08-15T16:00:00').getTime();
        let currentStoryIndex = 0;
        let galleryItems = [];
        let currentGalleryIndex = 0;
        let totalPages = 1;
        let currentPage = 1;
        const itemsPerPage = 10;

        // DOM Elements
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the website
            initNavigation();
            initCountdown();
            initTimeline();
            initGallery();
            initRSVPForm();
            loadStats();
            initAdminPanel();
        });

        // Navigation Functions
        function initNavigation() {
            const header = document.getElementById('header');
            const mobileNavToggle = document.getElementById('mobileNavToggle');
            const navLinks = document.getElementById('navLinks');
            const navLinksItems = document.querySelectorAll('.nav-link');
            
            // Mobile menu toggle
            mobileNavToggle.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                mobileNavToggle.innerHTML = navLinks.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });
            
            // Close mobile menu when clicking a link
            navLinksItems.forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    mobileNavToggle.innerHTML = '<i class="fas fa-bars"></i>';
                });
            });
            
            // Shrink header on scroll
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.style.padding = '5px 0';
                    header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
                } else {
                    header.style.padding = '15px 0';
                    header.style.boxShadow = '0 2px 10px rgba(0, 0, 0, 0.1)';
                }
            });
            
            // Smooth scroll for anchor links
            navLinksItems.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                });
            });
            
            // Admin link
            document.getElementById('adminLink').addEventListener('click', (e) => {
                e.preventDefault();
                showAdminLogin();
            });
        }

        // Countdown Timer
        function initCountdown() {
            function updateCountdown() {
                const now = new Date().getTime();
                const distance = weddingDate - now;
                
                // If wedding date is past
                if (distance < 0) {
                    document.getElementById('days').innerText = '00';
                    document.getElementById('hours').innerText = '00';
                    document.getElementById('minutes').innerText = '00';
                    document.getElementById('seconds').innerText = '00';
                    return;
                }
                
                // Calculate time units
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                // Update countdown display
                document.getElementById('days').innerText = days.toString().padStart(2, '0');
                document.getElementById('hours').innerText = hours.toString().padStart(2, '0');
                document.getElementById('minutes').innerText = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').innerText = seconds.toString().padStart(2, '0');
            }
            
            // Initial call
            updateCountdown();
            
            // Update every second
            setInterval(updateCountdown, 1000);
        }

        // Timeline Animations
        function initTimeline() {
            const timelineItems = document.querySelectorAll('.timeline-item');
            
            // Reveal timeline items on scroll
            function revealTimelineItems() {
                timelineItems.forEach(item => {
                    const itemTop = item.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;
                    
                    if (itemTop < windowHeight - 150) {
                        item.classList.add('visible');
                    }
                });
            }
            
            // Initial check
            revealTimelineItems();
            
            // Check on scroll
            window.addEventListener('scroll', revealTimelineItems);
            
            // Story Modal functionality
            const storyData = {
                'first-meeting': {
                    title: 'The First Meeting',
                    subtitle: 'Where It All Began',
                    date: 'June 12, 2020',
                    text: 'We met during a chance encounter at a local coffee shop downtown. Sarah was reading a book that Michael had just finished the week before, and he couldn\'t resist starting a conversation about it. What began as a discussion about literature quickly turned into hours of talking about everything from travel dreams to favorite childhood memories. There was an immediate connection that neither of us could deny. We exchanged numbers before leaving, both secretly hoping to see each other again soon.',
                    images: [
                        '/api/placeholder/800/500?text=Coffee+Shop',
                        '/api/placeholder/800/500?text=First+Conversation',
                        '/api/placeholder/800/500?text=Book+We+Both+Loved'
                    ]
                },
                'first-date': {
                    title: 'First Date',
                    subtitle: 'An Unforgettable Day',
                    date: 'June 19, 2020',
                    text: 'Our first official date was at the botanical gardens. We spent the whole day wandering through beautiful landscapes, talking about our lives, dreams, and passions. The conversation flowed so naturally, and we discovered how much we had in common. We ended the evening with dinner at a small Italian restaurant nearby, where we shared our first kiss under the stars. It was the perfect day that neither of us wanted to end.',
                    images: [
                        '/api/placeholder/800/500?text=Botanical+Gardens',
                        '/api/placeholder/800/500?text=Picnic+Lunch',
                        '/api/placeholder/800/500?text=Evening+Dinner'
                    ]
                },
                'moving-in': {
                    title: 'Moving In Together',
                    subtitle: 'Building Our Home',
                    date: 'October 3, 2022',
                    text: 'After two wonderful years together, we decided to take the next step and move in together. We found a charming apartment with a view of the park and spent weeks making it our own. From picking out furniture to deciding where to hang our photos, every decision was made together with excitement for our future. The day we finally moved in was chaotic but filled with so much joy and anticipation. That first night in our new home, sharing a simple meal on our still-packed moving boxes, we knew we had made the right decision.',
                    images: [
                        '/api/placeholder/800/500?text=Our+First+Apartment',
                        '/api/placeholder/800/500?text=Moving+Day',
                        '/api/placeholder/800/500?text=Home+Together'
                    ]
                },
                'proposal': {
                    title: 'The Proposal',
                    subtitle: 'The Perfect Question',
                    date: 'December 24, 2023',
                    text: 'Michael proposed during our winter vacation in the mountains. We had spent the day skiing and were watching the snow fall outside our cabin. Michael suggested a walk outside to enjoy the winter wonderland, and as we stood surrounded by snow-covered trees illuminated by the cabin lights, he got down on one knee. The proposal was simple, heartfelt, and absolutely perfect. Through happy tears, Sarah said yes, and we celebrated with champagne by the fireplace, dreaming about our future together.',
                    images: [
                        '/api/placeholder/800/500?text=Mountain+Cabin',
                        '/api/placeholder/800/500?text=The+Proposal',
                        '/api/placeholder/800/500?text=The+Ring',
                        '/api/placeholder/800/500?text=Celebration'
                    ]
                }
            };
            
            // Open story modal when clicking on timeline items
            timelineItems.forEach(item => {
                item.addEventListener('click', () => {
                    const storyId = item.getAttribute('data-story');
                    openStoryModal(storyId);
                });
            });
            
            function openStoryModal(storyId) {
                const story = storyData[storyId];
                const modal = document.getElementById('storyModal');
                const slideshow = document.getElementById('storySlideshow');
                const controls = document.getElementById('storyControls');
                
                // Set modal content
                document.getElementById('storyTitle').innerText = story.title;
                document.getElementById('storySubtitle').innerText = story.subtitle;
                document.getElementById('storyDate').innerText = story.date;
                document.getElementById('storyText').innerText = story.text;
                
                // Create slides
                slideshow.innerHTML = '';
                controls.innerHTML = '';
                story.images.forEach((image, index) => {
                    // Create slide
                    const slide = document.createElement('div');
                    slide.className = `story-slide ${index === 0 ? 'active' : ''}`;
                    slide.innerHTML = `<img src="${image}" alt="${story.title} - Image ${index + 1}">`;
                    slideshow.appendChild(slide);
                    
                    // Create dot
                    const dot = document.createElement('div');
                    dot.className = `story-dot ${index === 0 ? 'active' : ''}`;
                    dot.setAttribute('data-index', index);
                    dot.addEventListener('click', () => {
                        showStorySlide(index);
                    });
                    controls.appendChild(dot);
                });
                
                // Show modal
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Set current index
                currentStoryIndex = 0;
            }
            
            // Close story modal
            document.getElementById('closeStoryModal').addEventListener('click', () => {
                document.getElementById('storyModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Story navigation
            document.getElementById('storyPrev').addEventListener('click', () => {
                const slides = document.querySelectorAll('.story-slide');
                currentStoryIndex = (currentStoryIndex - 1 + slides.length) % slides.length;
                showStorySlide(currentStoryIndex);
            });
            
            document.getElementById('storyNext').addEventListener('click', () => {
                const slides = document.querySelectorAll('.story-slide');
                currentStoryIndex = (currentStoryIndex + 1) % slides.length;
                showStorySlide(currentStoryIndex);
            });
            
            function showStorySlide(index) {
                const slides = document.querySelectorAll('.story-slide');
                const dots = document.querySelectorAll('.story-dot');
                
                slides.forEach(slide => slide.classList.remove('active'));
                dots.forEach(dot => dot.classList.remove('active'));
                
                slides[index].classList.add('active');
                dots[index].classList.add('active');
                currentStoryIndex = index;
            }
        }

        // Gallery Functions
        function initGallery() {
            // Sample gallery data
            const galleryData = [
                { id: 1, category: 'us', image: '/api/placeholder/600/600?text=Us+1', title: 'First Selfie', description: 'Our first photo together' },
                { id: 2, category: 'dates', image: '/api/placeholder/600/600?text=Date+Night', title: 'Dinner Date', description: 'Anniversary dinner' },
                { id: 3, category: 'travel', image: '/api/placeholder/600/600?text=Beach+Vacation', title: 'Beach Getaway', description: 'Our trip to Hawaii' },
                { id: 4, category: 'engagement', image: '/api/placeholder/600/600?text=Engagement', title: 'The Proposal', description: 'The moment she said yes' },
                { id: 5, category: 'us', image: '/api/placeholder/600/600?text=Us+2', title: 'Park Day', description: 'Sunday at the park' },
                { id: 6, category: 'dates', image: '/api/placeholder/600/600?text=Concert', title: 'Concert Night', description: 'Our favorite band' },
                { id: 7, category: 'travel', image: '/api/placeholder/600/600?text=Mountain+Trip', title: 'Mountain Hike', description: 'Adventure in the Rockies' },
                { id: 8, category: 'engagement', image: '/api/placeholder/600/600?text=Ring', title: 'The Ring', description: 'A symbol of our love' },
                { id: 9, category: 'us', image: '/api/placeholder/600/600?text=Us+3', title: 'Movie Night', description: 'Cozy evening at home' },
                { id: 10, category: 'dates', image: '/api/placeholder/600/600?text=Picnic', title: 'Park Picnic', description: 'Spring afternoon' },
                { id: 11, category: 'travel', image: '/api/placeholder/600/600?text=City+Trip', title: 'City Exploration', description: 'Weekend in Chicago' },
                { id: 12, category: 'engagement', image: '/api/placeholder/600/600?text=Celebration', title: 'Engagement Party', description: 'Celebrating with friends and family' }
            ];
            
            galleryItems = galleryData;
            
            // Populate gallery grid
            function populateGallery(filter = 'all') {
                const galleryGrid = document.getElementById('galleryGrid');
                galleryGrid.innerHTML = '';
                
                const filteredItems = filter === 'all' 
                    ? galleryItems 
                    : galleryItems.filter(item => item.category === filter);
                
                filteredItems.forEach(item => {
                    const galleryItem = document.createElement('div');
                    galleryItem.className = 'gallery-item';
                    galleryItem.setAttribute('data-id', item.id);
                    galleryItem.innerHTML = `
                        <img src="${item.image}" alt="${item.title}">
                        <div class="gallery-item-overlay">
                            <h3>${item.title}</h3>
                            <p>${item.description}</p>
                        </div>
                    `;
                    
                    galleryItem.addEventListener('click', () => {
                        openGalleryModal(item.id);
                    });
                    
                    galleryGrid.appendChild(galleryItem);
                });
            }
            
            // Gallery filter functionality
            const galleryFilters = document.querySelectorAll('.gallery-filter');
            galleryFilters.forEach(filter => {
                filter.addEventListener('click', () => {
                    // Update active filter
                    galleryFilters.forEach(f => f.classList.remove('active'));
                    filter.classList.add('active');
                    
                    // Filter gallery
                    const filterValue = filter.getAttribute('data-filter');
                    populateGallery(filterValue);
                });
            });
            
            // Initial population
            populateGallery();
            
            // Gallery modal
            function openGalleryModal(itemId) {
                const item = galleryItems.find(item => item.id === itemId);
                const modal = document.getElementById('galleryModal');
                const modalImage = document.getElementById('galleryModalImage');
                const counter = document.getElementById('galleryCounter');
                
                // Set current index
                currentGalleryIndex = galleryItems.findIndex(item => item.id === itemId);
                
                // Update modal content
                modalImage.src = item.image;
                modalImage.alt = item.title;
                counter.innerText = `${currentGalleryIndex + 1} / ${galleryItems.length}`;
                
                // Show modal
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            
            // Close gallery modal
            document.getElementById('closeGalleryModal').addEventListener('click', () => {
                document.getElementById('galleryModal').classList.remove('active');
                document.body.style.overflow = '';
            });
            
            // Gallery navigation
            document.getElementById('galleryPrev').addEventListener('click', () => {
                currentGalleryIndex = (currentGalleryIndex - 1 + galleryItems.length) % galleryItems.length;
                updateGalleryModal();
            });
            
            document.getElementById('galleryNext').addEventListener('click', () => {
                currentGalleryIndex = (currentGalleryIndex + 1) % galleryItems.length;
                updateGalleryModal();
            });
            
            function updateGalleryModal() {
                const item = galleryItems[currentGalleryIndex];
                const modalImage = document.getElementById('galleryModalImage');
                const counter = document.getElementById('galleryCounter');
                
                modalImage.src = item.image;
                modalImage.alt = item.title;
                counter.innerText = `${currentGalleryIndex + 1} / ${galleryItems.length}`;
            }
            
            // Load more button
            document.getElementById('loadMorePhotos').addEventListener('click', () => {
                // In a real implementation, you would load more photos from the database
                // For now, we'll just hide the button
                document.getElementById('loadMorePhotos').style.display = 'none';
            });
        }

        // RSVP Form Functions
        function initRSVPForm() {
            const rsvpForm = document.getElementById('rsvpForm');
            const attendingRadios = document.getElementsByName('attending');
            const guestFields = document.getElementById('guestFields');
            const addGuestBtn = document.getElementById('addGuestBtn');
            const guestList = document.getElementById('guestList');
            const additionalGuestsContainer = document.getElementById('additionalGuestsContainer');
            
            // Toggle guest fields based on attendance
            attendingRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'yes') {
                        guestFields.classList.add('active');
                    } else {
                        guestFields.classList.remove('active');
                    }
                });
            });
            
            // Add guest button
            addGuestBtn.addEventListener('click', () => {
                const guestDiv = document.createElement('div');
                guestDiv.className = 'form-group';
                guestDiv.innerHTML = `
                    <label for="guestName">Guest Name</label>
                    <input type="text" class="form-control guest-name" placeholder="Guest's Full Name">
                `;
                additionalGuestsContainer.appendChild(guestDiv);
                
                // Add guest to list when input changes
                const input = guestDiv.querySelector('input');
                input.addEventListener('blur', function() {
                    if (this.value.trim()) {
                        addGuestToList(this.value.trim());
                        this.parentElement.remove();
                    }
                });
            });
            
            // Add guest to list
            function addGuestToList(name) {
                const guestItem = document.createElement('div');
                guestItem.className = 'guest-item';
                guestItem.innerHTML = `
                    <p>${name}</p>
                    <div class="remove-guest"><i class="fas fa-times"></i></div>
                `;
                
                // Remove guest
                guestItem.querySelector('.remove-guest').addEventListener('click', () => {
                    guestItem.remove();
                    updateGuestCount();
                });
                
                guestList.appendChild(guestItem);
                updateGuestCount();
            }
            
            // Update guest count
            function updateGuestCount() {
                const guestCount = guestList.children.length + 1; // +1 for the main attendee
                document.getElementById('numGuests').value = Math.min(guestCount, 4);
            }
            
            // Form submission
            rsvpForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Show loading indicator
                document.getElementById('rsvpLoading').style.display = 'inline-block';
                document.getElementById('rsvpSuccess').style.display = 'none';
                document.getElementById('rsvpError').style.display = 'none';
                
                // Get form values
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const phone = document.getElementById('phone').value;
                const attending = document.querySelector('input[name="attending"]:checked').value;
                const numGuests = attending === 'yes' ? parseInt(document.getElementById('numGuests').value) : 0;
                const dietaryRestrictions = document.getElementById('dietaryRestrictions').value;
                const message = document.getElementById('message').value;
                
                // Collect guest names
                const guestNames = [];
                if (attending === 'yes') {
                    document.querySelectorAll('.guest-item p').forEach(item => {
                        guestNames.push(item.innerText);
                    });
                }
                
                try {
                    // Submit to Supabase
                    const { data, error } = await supabase
                        .from('rsvps')
                        .insert([
                            {
                                name,
                                email,
                                phone,
                                attending: attending === 'yes',
                                guests: numGuests,
                                guest_names: guestNames,
                                dietary_restrictions: dietaryRestrictions,
                                message,
                                created_at: new Date().toISOString()
                            }
                        ]);
                    
                    if (error) throw error;
                    
                    // Show success message
                    document.getElementById('rsvpSuccess').style.display = 'block';
                    
                    // Reset form
                    rsvpForm.reset();
                    guestList.innerHTML = '';
                    additionalGuestsContainer.innerHTML = '';
                    
                    // Reload stats
                    loadStats();
                    
                } catch (error) {
                    console.error('Error submitting RSVP:', error);
                    document.getElementById('rsvpError').style.display = 'block';
                    document.getElementById('rsvpError').innerText = 'There was an error submitting your RSVP. Please try again.';
                }
                
                // Hide loading indicator
                document.getElementById('rsvpLoading').style.display = 'none';
            });
        }

        // Stats Functions
        async function loadStats() {
            try {
                // Query Supabase for stats
                const { data: attendingData, error: attendingError } = await supabase
                    .from('rsvps')
                    .select('guests')
                    .eq('attending', true);
                
                const { data: declinedData, error: declinedError } = await supabase
                    .from('rsvps')
                    .select('count')
                    .eq('attending', false);
                
                if (attendingError || declinedError) throw new Error('Error fetching stats');
                
                // Calculate stats
                const totalGuests = 120; // This would typically come from your database
                const confirmedGuests = attendingData?.reduce((total, item) => total + item.guests, 0) || 0;
                const declinedGuests = declinedData?.length || 0;
                const pendingGuests = totalGuests - confirmedGuests - declinedGuests;
                
                // Update stats display
                document.getElementById('invitedStat').innerText = totalGuests;
                document.getElementById('attendingStat').innerText = confirmedGuests;
                document.getElementById('declinedStat').innerText = declinedGuests;
                document.getElementById('awaitingStat').innerText = pendingGuests;
                
            } catch (error) {
                console.error('Error loading stats:', error);
            }
        }

        // Admin Panel Functions
        function initAdminPanel() {
            const adminLoginBtn = document.getElementById('adminLoginBtn');
            const adminLogoutBtn = document.getElementById('adminLogoutBtn');
            const adminTabs = document.querySelectorAll('.admin-tab');
            const refreshStatsBtn = document.getElementById('refreshStats');
            const statusFilter = document.getElementById('statusFilter');
            const adminExportBtn = document.getElementById('adminExportBtn');
            
            // Check if already logged in (using localStorage for demo purposes)
            if (localStorage.getItem('weddingAdminLoggedIn') === 'true') {
                document.getElementById('adminPanel').classList.add('active');
            }
            
            // Admin login
            adminLoginBtn.addEventListener('click', async function() {
                const username = document.getElementById('adminUsername').value;
                const password = document.getElementById('adminPassword').value;
                
                // Show loading
                document.getElementById('adminLoginLoading').style.display = 'inline-block';
                document.getElementById('adminLoginError').style.display = 'none';
                
                // Simple auth for demo purposes (in a real app, use proper auth)
                if (username === 'admin' && password === 'wedding2025') {
                    localStorage.setItem('weddingAdminLoggedIn', 'true');
                    document.getElementById('adminPanel').classList.add('active');
                    document.getElementById('adminLoginModal').classList.remove('active');
                    
                    // Load admin data
                    loadAdminStats();
                    loadRecentRSVPs();
                    loadGuestList();
                    loadMessages();
                    
                } else {
                    document.getElementById('adminLoginError').style.display = 'block';
                    document.getElementById('adminLoginError').innerText = 'Invalid username or password';
                }
                
                // Hide loading
                document.getElementById('adminLoginLoading').style.display = 'none';
            });
            
            // Show admin login modal
            function showAdminLogin() {
                document.getElementById('adminLoginModal').classList.add('active');
                document.getElementById('adminUsername').value = '';
                document.getElementById('adminPassword').value = '';
                document.getElementById('adminLoginError').style.display = 'none';
            }
            
            // Admin logout
            adminLogoutBtn.addEventListener('click', function() {
                localStorage.removeItem('weddingAdminLoggedIn');
                document.getElementById('adminPanel').classList.remove('active');
            });
            
            // Admin tabs
            adminTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Update active tab
                    adminTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding content
                    const tabId = this.getAttribute('data-tab');
                    document.querySelectorAll('.admin-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${tabId}Tab`).classList.add('active');
                    
                    // Load data if needed
                    if (tabId === 'guests') {
                        loadGuestList();
                    } else if (tabId === 'messages') {
                        loadMessages();
                    }
                });
            });
            
            // View all links
            document.querySelectorAll('.view-all-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tabId = this.getAttribute('data-tab');
                    
                    // Activate tab
                    adminTabs.forEach(tab => {
                        tab.classList.toggle('active', tab.getAttribute('data-tab') === tabId);
                    });
                    
                    // Show content
                    document.querySelectorAll('.admin-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    document.getElementById(`${tabId}Tab`).classList.add('active');
                });
            });
            
            // Refresh stats
            refreshStatsBtn.addEventListener('click', function() {
                loadAdminStats();
                loadRecentRSVPs();
            });
            
            // Status filter
            statusFilter.addEventListener('change', function() {
                loadGuestList(this.value);
            });
            
            // Export data
            adminExportBtn.addEventListener('click', async function() {
                try {
                    const { data, error } = await supabase
                        .from('rsvps')
                        .select('*')
                        .order('created_at', { ascending: false });
                    
                    if (error) throw error;
                    
                    // Convert to CSV
                    const headers = [
                        'Name', 'Email', 'Phone', 'Attending', 'Guests', 
                        'Guest Names', 'Dietary Restrictions', 'Message', 'Date'
                    ];
                    
                    let csvContent = headers.join(',') + '\n';
                    
                    data.forEach(item => {
                        const row = [
                            `"${item.name || ''}"`,
                            `"${item.email || ''}"`,
                            `"${item.phone || ''}"`,
                            item.attending ? 'Yes' : 'No',
                            item.guests || 0,
                            `"${(item.guest_names || []).join(', ')}"`,
                            `"${item.dietary_restrictions || ''}"`,
                            `"${(item.message || '').replace(/"/g, '""')}"`,
                            new Date(item.created_at).toLocaleDateString()
                        ];
                        
                        csvContent += row.join(',') + '\n';
                    });
                    
                    // Create download link
                    const encodedUri = encodeURI('data:text/csv;charset=utf-8,' + csvContent);
                    const link = document.createElement('a');
                    link.setAttribute('href', encodedUri);
                    link.setAttribute('download', `wedding_rsvps_${new Date().toISOString().split('T')[0]}.csv`);
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                    
                } catch (error) {
                    console.error('Error exporting data:', error);
                    alert('There was an error exporting the data. Please try again.');
                }
            });
            
            // Load admin dashboard stats
            async function loadAdminStats() {
                try {
                    // Query Supabase for stats
                    const { data, error } = await supabase
                        .from('rsvps')
                        .select('// Query Supabase for stats
                    const { data, error } = await supabase
                        .from('rsvps')
                        .select('*');
                    
                    if (error) throw error;
                    
                    // Calculate stats
                    const totalInvited = 120; // This would typically come from your database
                    const attending = data.filter(item => item.attending);
                    const declined = data.filter(item => !item.attending);
                    
                    const confirmedGuests = attending.reduce((total, item) => total + item.guests, 0);
                    const totalResponses = data.length;
                    const pendingGuests = totalInvited - totalResponses;
                    
                    // Update stats display
                    document.getElementById('totalInvited').innerText = totalInvited;
                    document.getElementById('totalConfirmed').innerText = confirmedGuests;
                    document.getElementById('totalDeclined').innerText = declined.length;
                    document.getElementById('totalPending').innerText = pendingGuests;
                    
                    // Update chart
                    updateRSVPChart(confirmedGuests, declined.length, pendingGuests);
                    
                } catch (error) {
                    console.error('Error loading admin stats:', error);
                }
            }
            
            // Load recent RSVPs
            async function loadRecentRSVPs() {
                try {
                    const { data, error } = await supabase
                        .from('rsvps')
                        .select('*')
                        .order('created_at', { ascending: false })
                        .limit(5);
                    
                    if (error) throw error;
                    
                    const tableBody = document.getElementById('recentRsvpTable');
                    tableBody.innerHTML = '';
                    
                    if (data && data.length > 0) {
                        data.forEach(item => {
                            const row = document.createElement('tr');
                            row.innerHTML = `
                                <td>${item.name || 'N/A'}</td>
                                <td>${item.email || 'N/A'}</td>
                                <td>${item.attending ? 
                                    '<span class="status-badge status-attending">Attending</span>' : 
                                    '<span class="status-badge status-declined">Declined</span>'
                                }</td>
                                <td>${item.guests || 0}</td>
                                <td>${new Date(item.created_at).toLocaleDateString()}</td>
                            `;
                            tableBody.appendChild(row);
                        });
                    } else {
                        tableBody.innerHTML = '<tr><td colspan="5" class="text-center">No RSVPs yet</td></tr>';
                    }
                    
                } catch (error) {
                    console.error('Error loading recent RSVPs:', error);
                    document.getElementById('recentRsvpTable').innerHTML = 
                        '<tr><td colspan="5" class="text-center">Error loading RSVPs</td></tr>';
                }
            }
            
            // Load full guest list with pagination
            async function loadGuestList(filter = 'all', page = 1) {
                try {
                    const tableBody = document.getElementById('guestListTable');
                    tableBody.innerHTML = '<tr><td colspan="8" class="text-center">Loading guest list...</td></tr>';
                    
                    // Build query
                    let query = supabase.from('rsvps').select('*', { count: 'exact' });
                    
                    // Apply filter
                    if (filter === 'attending') {
                        query = query.eq('attending', true);
                    } else if (filter === 'declined') {
                        query = query.eq('attending', false);
                    }
                    
                    // Calculate pagination
                    const from = (page - 1) * itemsPerPage;
                    const to = from + itemsPerPage - 1;
                    
                    // Execute query with range
                    const { data, error, count } = await query
                        .order('created_at', { ascending: false })
                        .range(from, to);
                    
                    if (error) throw error;
                    
                    // Update table
                    tableBody.innerHTML = '';
                    
                    if (data && data.length > 0) {
                        data.forEach(item => {
                            const row = document.createElement('tr');
                            row.innerHTML = `
                                <td>${item.name || 'N/A'}</td>
                                <td>${item.email || 'N/A'}</td>
                                <td>${item.phone || 'N/A'}</td>
                                <td>${item.attending ? 
                                    '<span class="status-badge status-attending">Attending</span>' : 
                                    '<span class="status-badge status-declined">Declined</span>'
                                }</td>
                                <td>${item.guests || 0}</td>
                                <td>${item.message || '-'}</td>
                                <td>${new Date(item.created_at).toLocaleDateString()}</td>
                                <td class="admin-table-actions">
                                    <div class="action-btn view-btn" data-id="${item.id}" title="View Details">
                                        <i class="fas fa-eye"></i>
                                    </div>
                                    <div class="action-btn delete-btn" data-id="${item.id}" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </div>
                                </td>
                            `;
                            tableBody.appendChild(row);
                            
                            // Add event listeners to action buttons
                            const viewBtn = row.querySelector('.view-btn');
                            const deleteBtn = row.querySelector('.delete-btn');
                            
                            viewBtn.addEventListener('click', () => viewGuestDetails(item.id));
                            deleteBtn.addEventListener('click', () => deleteGuest(item.id));
                        });
                        
                        // Update pagination
                        if (count) {
                            totalPages = Math.ceil(count / itemsPerPage);
                            updatePagination(page);
                        }
                        
                    } else {
                        tableBody.innerHTML = '<tr><td colspan="8" class="text-center">No guests found</td></tr>';
                        document.getElementById('guestsPagination').innerHTML = '';
                    }
                    
                } catch (error) {
                    console.error('Error loading guest list:', error);
                    document.getElementById('guestListTable').innerHTML = 
                        '<tr><td colspan="8" class="text-center">Error loading guest list</td></tr>';
                }
            }
            
            // View guest details (in a real app, this would open a modal with detailed information)
            function viewGuestDetails(id) {
                alert(`View details for guest ID: ${id}`);
            }
            
            // Delete guest
            async function deleteGuest(id) {
                if (confirm('Are you sure you want to delete this RSVP? This action cannot be undone.')) {
                    try {
                        const { error } = await supabase
                            .from('rsvps')
                            .delete()
                            .eq('id', id);
                        
                        if (error) throw error;
                        
                        // Reload data
                        loadGuestList(document.getElementById('statusFilter').value, currentPage);
                        loadAdminStats();
                        loadRecentRSVPs();
                        loadStats();
                        
                        alert('RSVP deleted successfully.');
                        
                    } catch (error) {
                        console.error('Error deleting RSVP:', error);
                        alert('Error deleting RSVP. Please try again.');
                    }
                }
            }
            
            // Update pagination controls
            function updatePagination(currentPage) {
                const pagination = document.getElementById('guestsPagination');
                pagination.innerHTML = '';
                
                // Previous button
                if (totalPages > 1) {
                    const prevBtn = document.createElement('div');
                    prevBtn.className = `page-btn ${currentPage === 1 ? 'disabled' : ''}`;
                    prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i>';
                    if (currentPage > 1) {
                        prevBtn.addEventListener('click', () => {
                            loadGuestList(document.getElementById('statusFilter').value, currentPage - 1);
                        });
                    }
                    pagination.appendChild(prevBtn);
                }
                
                // Page buttons
                let startPage = Math.max(1, currentPage - 2);
                let endPage = Math.min(totalPages, startPage + 4);
                
                if (endPage - startPage < 4 && startPage > 1) {
                    startPage = Math.max(1, endPage - 4);
                }
                
                for (let i = startPage; i <= endPage; i++) {
                    const pageBtn = document.createElement('div');
                    pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
                    pageBtn.innerText = i;
                    pageBtn.addEventListener('click', () => {
                        if (i !== currentPage) {
                            loadGuestList(document.getElementById('statusFilter').value, i);
                        }
                    });
                    pagination.appendChild(pageBtn);
                }
                
                // Next button
                if (totalPages > 1) {
                    const nextBtn = document.createElement('div');
                    nextBtn.className = `page-btn ${currentPage === totalPages ? 'disabled' : ''}`;
                    nextBtn.innerHTML = '<i class="fas fa-chevron-right"></i>';
                    if (currentPage < totalPages) {
                        nextBtn.addEventListener('click', () => {
                            loadGuestList(document.getElementById('statusFilter').value, currentPage + 1);
                        });
                    }
                    pagination.appendChild(nextBtn);
                }
            }
            
            // Load messages
            async function loadMessages() {
                try {
                    const { data, error } = await supabase
                        .from('rsvps')
                        .select('name, email, message, created_at')
                        .not('message', 'is', null)
                        .not('message', 'eq', '')
                        .order('created_at', { ascending: false });
                    
                    if (error) throw error;
                    
                    const tableBody = document.getElementById('messagesTable');
                    tableBody.innerHTML = '';
                    
                    if (data && data.length > 0) {
                        data.forEach(item => {
                            const row = document.createElement('tr');
                            row.innerHTML = `
                                <td>${item.name || 'N/A'}</td>
                                <td>${item.email || 'N/A'}</td>
                                <td>${item.message || '-'}</td>
                                <td>${new Date(item.created_at).toLocaleDateString()}</td>
                            `;
                            tableBody.appendChild(row);
                        });
                    } else {
                        tableBody.innerHTML = '<tr><td colspan="4" class="text-center">No messages yet</td></tr>';
                    }
                    
                } catch (error) {
                    console.error('Error loading messages:', error);
                    document.getElementById('messagesTable').innerHTML = 
                        '<tr><td colspan="4" class="text-center">Error loading messages</td></tr>';
                }
            }
            
            // RSVP Chart
            function updateRSVPChart(confirmed, declined, pending) {
                const ctx = document.getElementById('rsvpChart').getContext('2d');
                
                // Destroy existing chart if it exists
                if (window.rsvpChart) {
                    window.rsvpChart.destroy();
                }
                
                // Create new chart
                window.rsvpChart = new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Confirmed', 'Declined', 'Pending'],
                        datasets: [{
                            data: [confirmed, declined, pending],
                            backgroundColor: [
                                '#7fb77e', // Success color
                                '#f7a4a4', // Error color
                                '#b1a296'  // Accent color
                            ],
                            borderColor: [
                                '#fff',
                                '#fff',
                                '#fff'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '70%',
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: {
                                        family: "'Montserrat', sans-serif",
                                        size: 14
                                    },
                                    padding: 20
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const label = context.label || '';
                                        const value = context.raw || 0;
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = Math.round((value / total) * 100);
                                        return `${label}: ${value} (${percentage}%)`;
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        // Helper Functions
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }
    </script>
</body>
</html>
